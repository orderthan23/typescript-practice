{"version":3,"sources":["src/chap06_catch_the_lion/board.ts","src/chap06_catch_the_lion/game.ts","src/chap06_catch_the_lion/index.ts","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","document","querySelectorAll","i","length","module"],"mappings":"AGAA,ACAA,IDAIA,ACAAY,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,AFFA,SCCSZ,ACCAa,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAC,CDDChB,MCCM,GDDX,ACCce,EDDE,ECCE,CAACE,SAAL,EAAd;ADAEjB,ADFJ,ICEIA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADc,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,AFHJ,IEGIA,IAAI,CAACI,MAAL;ADCF,ACAC,AHNH,GGIE,MDEOnB,SAAP;AACD,ADFD,IAAI,UAAJ;AEEEgB,EAAAA,OAAO,CAACI,IAAR,GAAeL,IAAI,CAACK,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCC,IAAI,CAACC,GAAL,EAA/C;ADEF,ACDER,EAAAA,IAAI,CAACS,EDCEtB,QCDP,CAAgBuB,GDClB,GAAwB,MCDtB,CAA6BT,OAA7B,EAAsCD,IAAI,CAACW,WAA3C;ADEA,ACDD;ADEC,MAAI;AACF,ACDJ,IAAIC,AJHS,MGIH,IAAIxB,ACDA,GAAG,EDCP,EAAN,ACDJ;ADEG,AHDC,GGDF,CAEE,OAAOC,GAAP,EAAY,AHAQ,QADpB,EAEY,KAFZ,EAEwB;AGAxB,ACFJ,AJE4B,ICXf,IEWLC,CCFCuB,MDEM,GAAG,ACFlB,CDEmB,ECFE,GDEGxB,GAAG,CAACE,KAAV,EAAiBC,EFP/B,GEOc,CAAuB,YFPrC,mDEOc,CAAd;ACDF,AHNE,MGMEoB,UAAJ,EAAgB;ADEd,ACDA,AJDoB,QGEhBtB,CHFgB,MGEpB,EAAa,AHFO,GAAA,QAAA;AGGlB,ACDH,AJDa,ACVH,OAAA,EDUG,GCVH,CEYAG,CHFG,CCVK,EDUL,ECVS,GDUT,CGEO,CAACH,OAAO,AFZV,CEYW,CAAD,AFZlB,CEYU,CAAjB;AACD,AHRO,ACJC,OAAA,EDID,QAAA,GAAW,ACJV,GAAgB,EDIjB,ECJqB,eAAJ,CAAa,OAAb,CAAhB;AEaV,ACDDsB,AJPW,ACJA,EGWXA,KHXW,EDIA,GIOD,AJPC,G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","file":"chap06_catch_the_lion.f5212144.js","sourceRoot":"..","sourcesContent":["import {Piece} from './Piece'\r\n\r\nexport interface Position {\r\n    row: number;\r\n    col: number;\r\n}\r\n\r\n\r\nexport class Cell {\r\n    private isActive = false;\r\n    readonly _el: HTMLElement = document.createElement('DIV');\r\n\r\n    constructor(\r\n        public readonly position: Position,\r\n        private piece: Piece\r\n    ) {\r\n        this._el.classList.add('cell');\r\n    }\r\n\r\n    put(piece: Piece) {\r\n        this.piece = piece;\r\n    }\r\n\r\n    getPiece() {\r\n        return this.piece;\r\n    }\r\n\r\n    active() {\r\n        this.isActive = true;\r\n    }\r\n\r\n    deActive() {\r\n        this.isActive = false;\r\n    }\r\n\r\n    render() {\r\n        if (this.isActive) {\r\n            this._el.classList.add('active');\r\n        } else {\r\n            this._el.classList.remove('active');\r\n        }\r\n\r\n        this._el.innerHTML = (this.piece) ? this.piece.render() : '';\r\n    }\r\n}\r\n\r\n//게임 내 보드 판 객체\r\nexport class Board {\r\n    cells: Cell[] = [];\r\n    _el: HTMLElement = document.createElement('div');\r\n\r\n    constructor() {\r\n        this._el.className = 'board';\r\n        for (let row = 0; row < 4; row++) {\r\n            const rowEl = document.createElement('div');\r\n            rowEl.className = 'row';\r\n            this._el.appendChild(rowEl);\r\n            for (let col = 0; col < 3; col++) {\r\n                const cell = new Cell({row, col}, null);\r\n                this.cells.push(cell);\r\n                rowEl.appendChild(cell._el);\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        this.cells.forEach(v => v.render());\r\n    }\r\n}\r\n\r\nexport class DeadZone {\r\n    private cells: Cell[] = [];\r\n    readonly deadZoneEl = document\r\n        .getElementById(`${this.type}_deadzone`)\r\n        .querySelector('.card-body');\r\n\r\n    constructor(public type: 'upper' | 'lower') {\r\n        for (let col = 0; col <4; col++){\r\n            const cell = new Cell({col, row: 0}, null);\r\n            this.cells.push(cell);\r\n            this.deadZoneEl.appendChild(cell._el);\r\n        }\r\n    }\r\n\r\n    put(piece : Piece) {\r\n        const emptyCell = this.cells.find(v => v.getPiece() === null);\r\n        emptyCell.put(piece);\r\n        emptyCell.render();\r\n    }\r\n\r\n    render(){\r\n        this.cells.forEach(v => v.render());\r\n    }\r\n}","import {Board, DeadZone} from \"./board\";\r\n\r\n//name Export\r\nexport class Game {\r\n    readonly board = new Board();\r\n    readonly upperDeadZone = new DeadZone('upper');\r\n    readonly lowerDeadZone = new DeadZone('lower');\r\n    constructor() {\r\n        const boardContainer = document.querySelector('.board-container');\r\n        boardContainer.firstChild.remove();\r\n        boardContainer.appendChild(this.board._el);\r\n    }\r\n}\r\n\r\n//default Export\r\nconst version = 'v1';\r\nexport default version","import version,{Game} from './game';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './styles/style.css';\r\n\r\n\r\nnew Game();","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)?\\/[^/]+(?:\\?.*)?$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}